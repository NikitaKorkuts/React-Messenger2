"use strict";(self.webpackChunkmessanger=self.webpackChunkmessanger||[]).push([[65],{8313:function(e,t,n){n.d(t,{r:function(){return d}});var r,s=n(2791),o=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function l(e,t){var n=e.title,l=e.titleId,d=i(e,o);return s.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":l},d),n?s.createElement("title",{id:l},n):null,r||(r=s.createElement("path",{d:"M0 12.116l2.053-1.897c2.401 1.162 3.924 2.045 6.622 3.969 5.073-5.757 8.426-8.678 14.657-12.555l.668 1.536c-5.139 4.484-8.902 9.479-14.321 19.198-3.343-3.936-5.574-6.446-9.679-10.251z"})))}var d=s.forwardRef(l);n.p},4107:function(e,t,n){n.d(t,{g:function(){return a}});n(2791);var r="field_formControl__3DwbJ",s="field_error__L23Yy",o=n(184),a=function(e){var t=e.children,n=e.hasError,a=void 0!==n&&n,i=e.error,l=void 0===i?"":i;return(0,o.jsx)("div",{className:r+" "+(a?s:""),children:(0,o.jsxs)(o.Fragment,{children:[t,a&&(0,o.jsx)("span",{children:l})]})})}},7869:function(e,t,n){n.d(t,{g:function(){return a}});var r=n(1413),s=(n(2791),n(4107)),o=n(184),a=function(e){var t=e.name,n=e.hasError,a=void 0!==n&&n,i=e.error,l=void 0===i?"":i,d=e.props,c=void 0===d?{}:d;return(0,o.jsx)(s.g,{error:l,hasError:a,children:(0,o.jsx)("textarea",(0,r.Z)({name:t},c))})}},3300:function(e,t,n){n.d(t,{D:function(){return c}});var r=n(1413),s=n(3366);n(2791);var o=n(6871),a=n(8687),i=n(184),l=["isAuth"],d=function(e){return{isAuth:e.auth.isAuth}},c=function(e){return(0,a.$j)(d)((function(t){t.isAuth;var n=function(e,t){if(null==e)return{};var n,r,o=(0,s.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,l);return t.isAuth?(0,i.jsx)(e,(0,r.Z)({},n)):(0,i.jsx)(o.Fg,{to:"/login"})}))}},65:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var r=n(2791),s=n(5671),o=n(3144),a=n(136),i=n(7277),l=n(7781),d=n(8687),c=n(6871),u=n(1928),g=n(3636),h=n(8342),p=function(e,t){var n=(null===e||void 0===e?void 0:e.getDate())===(null===t||void 0===t?void 0:t.getDate()),r=(null===e||void 0===e?void 0:e.getMonth())===(null===t||void 0===t?void 0:t.getMonth()),s=(null===e||void 0===e?void 0:e.getFullYear())===(null===t||void 0===t?void 0:t.getFullYear());return n&&r&&s},f=n(7696),v=n(4739),m=n(3300),y={dialog:"dialog_dialog__exLnl",noMessages:"dialog_noMessages__g4dAD",lastUserActivityDate:"dialog_lastUserActivityDate__yyFBg",separationDate:"dialog_separationDate__egnuZ",sendMessage:"dialog_sendMessage__HN1+m",sendMessageBtn:"dialog_sendMessageBtn__9CwF6",loaderText:"dialog_loaderText__oBHUt",infiniteScroll:"dialog_infiniteScroll__kVS4F",message:"dialog_message__dmz5x",sameSender:"dialog_sameSender__SsJuE",left:"dialog_left__5p-Wi",avatar:"dialog_avatar__NMcfz",right:"dialog_right__h3eii",body:"dialog_body__GkR7j",info:"dialog_info__f17of",name:"dialog_name__YIXxj",messageText:"dialog_messageText__HJURG",messageTextBody:"dialog_messageTextBody__8LH5+",date:"dialog_date__xh-+F",deleteIcon:"dialog_deleteIcon__MQ1nn",dropdownMenu:"dialog_dropdownMenu__cMMHG",checkmark:"dialog_checkmark__iHrIu",fill_blue:"dialog_fill_blue__YaL3r",fill_gray:"dialog_fill_gray__Rthpk"},_=function(e,t){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},_(e,t)};var M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},M.apply(this,arguments)};var b="Pixel",x="Percent",w={unit:x,value:.8};function D(e){return"number"===typeof e?{unit:x,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:b,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:x,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),w):(console.warn("scrollThreshold should be string or number"),w)}var j,T,S=function(e){function t(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"===typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"===typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,r){var s,o=!1,a=0;function i(){s&&clearTimeout(s)}function l(){var l=this,d=Date.now()-a,c=arguments;function u(){a=Date.now(),n.apply(l,c)}function g(){s=void 0}o||(r&&!s&&u(),i(),void 0===r&&d>e?u():!0!==t&&(s=setTimeout(r?g:u,void 0===r?e-d:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),l.cancel=function(){i(),o=!0},l}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?M(M({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=D(t);return r.unit===b?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=D(t);return r.unit===b?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=M({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),s=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return r.createElement("div",{style:s,className:"infinite-scroll-component__outerdiv"},r.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&r.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},r.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(r.Component),E=S,P=n(5705),L=n(132),U=n(7869),N=function(e){var t=new Date,n=new Date((new Date).setDate((new Date).getDate()-1)),r=t.getFullYear()===e.getFullYear(),s=t.getHours()===e.getHours(),o=t.getMinutes()===e.getMinutes(),a=t.getSeconds()===e.getSeconds()||t.getSeconds()-1===e.getSeconds(),i=(0,v.L)(e);return p(e,t)?s&&o&&a?"\u0412 \u0441\u0435\u0442\u0438":"\u0411\u044b\u043b(a) \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0432 ".concat(i):p(e,n)?"\u0411\u044b\u043b(a) \u0432\u0447\u0435\u0440\u0430 \u0432 ".concat(i):r?"\u0411\u044b\u043b(a) ".concat((0,f.F)(e)):"\u0411\u044b\u043b(a) ".concat((0,f.F)(e)," \u0433.")},O=n(2388),A=n(3504),F=n(5236),I=n(8313),C=["title","titleId"];function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}function R(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function B(e,t){var n=e.title,s=e.titleId,o=R(e,C);return r.createElement("svg",Y({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 29.96 122.88",ref:t,"aria-labelledby":s},o),n?r.createElement("title",{id:s},n):null,j||(j=r.createElement("defs",null,r.createElement("style",null,".cls-1{fill-rule:evenodd;}"))),T||(T=r.createElement("path",{className:"cls-1",d:"M15,0A15,15,0,1,1,0,15,15,15,0,0,1,15,0Zm0,92.93a15,15,0,1,1-15,15,15,15,0,0,1,15-15Zm0-46.47a15,15,0,1,1-15,15,15,15,0,0,1,15-15Z"})))}var k=r.forwardRef(B),H=(n.p,n(4277)),Z=n(184),q=function(e){var t,n,r=e.senderName,s=e.viewed,o=e.id,a=e.body,i=e.addedAt,l=e.senderId,d=e.chattingUserProfile,c=e.authUserProfile,u=e.isSameSender,g=e.getFormattedDateHMM,h=e.deleteMessage,p=e.messageType,f=c.userId===l;return(0,Z.jsxs)("div",{id:o,className:"".concat(y.message," ").concat(f?y.right:y.left," ").concat(u?y.sameSender:""),children:[(0,Z.jsx)("div",{className:y.avatar,children:!u&&(0,Z.jsxs)(Z.Fragment,{children:[f&&(0,Z.jsx)(A.rU,{to:"/profile/".concat(c.userId),children:(0,Z.jsx)("img",{src:(null===c||void 0===c||null===(t=c.photos)||void 0===t?void 0:t.large)||F,alt:"avatar"})}),!f&&(0,Z.jsx)(A.rU,{to:"/profile/".concat(d.userId),children:(0,Z.jsx)("img",{src:(null===d||void 0===d||null===(n=d.photos)||void 0===n?void 0:n.small)||F,alt:"avatar"})})]})}),(0,Z.jsxs)("div",{className:y.body,children:[!u&&(0,Z.jsx)("div",{className:y.info,children:(0,Z.jsx)("span",{className:y.name,children:r})}),(0,Z.jsxs)("div",{className:y.messageText,children:[(0,Z.jsx)("div",{className:y.messageTextBody,dangerouslySetInnerHTML:{__html:a}}),(0,Z.jsxs)("div",{className:"".concat(y.checkmark," ").concat(u?y.sameSender:""),children:[(0,Z.jsx)("span",{className:y.date,children:g(i)}),(0,Z.jsx)(I.r,{className:s?y.fill_blue:y.fill_gray})]}),(0,Z.jsx)("div",{className:y.deleteIcon,children:(0,Z.jsx)(H.L,{header:(0,Z.jsx)(k,{}),menuItems:(0,Z.jsx)("div",{className:y.dropdownMenu,children:(0,Z.jsx)("div",{className:y.menuItem,children:(0,Z.jsx)("p",{onClick:function(){return h(o,p)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443 \u043c\u0435\u043d\u044f"})})})})})]})]})]})},G=function(e){var t=e.date;return(0,Z.jsx)("div",{children:(0,Z.jsx)("div",{className:y.separationDate,children:(0,Z.jsx)("p",{children:t})})})},W=function(e){var t=e.updatingMessages,n=e.chattingUserProfile,r=e.authUserProfile,s=e.notUpdatingMessages,o=e.fetchNotUpdatingMessages,a=e.currentPage,i=e.totalPagesCount,l=e.sendMessage,d=e.compareDates,c=e.getFormattedDateWithFullMonth,u=e.getFormattedDateHMM,g=e.activeDialog,p=e.deleteMessage,f=t.map((function(e,o){var a=t[o+1]||s[0],i=(null===a||void 0===a?void 0:a.senderId)===e.senderId;return(0,Z.jsxs)("div",{children:[!d(e.addedAt,null===a||void 0===a?void 0:a.addedAt)&&(0,Z.jsx)(G,{date:c(e.addedAt)}),(0,Z.jsx)(q,{body:e.body,senderName:e.senderName,id:e.id,viewed:e.viewed,addedAt:e.addedAt,senderId:e.senderId,chattingUserProfile:n,authUserProfile:r,isSameSender:i,getFormattedDateHMM:u,deleteMessage:p,messageType:O.z.updatingMessage},e.id)]},e.id)})),v=L.Ry().shape({msgBody:L.Z_().required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435")});return(0,Z.jsxs)("div",{id:"scrollableDiv",className:y.dialog,children:[(null===g||void 0===g?void 0:g.lastUserActivityDate)&&(0,Z.jsx)("div",{className:y.lastUserActivityDate,children:(0,Z.jsx)("span",{children:N(null===g||void 0===g?void 0:g.lastUserActivityDate)})}),(0,Z.jsx)(P.J9,{initialValues:{msgBody:""},validateOnBlur:!1,validateOnChange:!1,validationSchema:v,onSubmit:function(e,t){var n=t.resetForm,r=t.setSubmitting;l(e.msgBody),r(!1),n()},children:function(e){var t=e.values,n=e.handleChange,r=e.touched,s=e.errors,o=e.handleBlur,a=e.handleSubmit;return(0,Z.jsx)("form",{onSubmit:a,children:(0,Z.jsxs)("div",{className:y.sendMessage,children:[(0,Z.jsx)(U.g,{name:"msgBody",hasError:r.msgBody&&s.msgBody,error:s.msgBody,type:"textarea",props:{onBlur:o,value:t.msgBody,onChange:n,placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435..."}}),(0,Z.jsx)("button",{className:y.sendMessageBtn,type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})}}),0!==t.length?f:(0,Z.jsx)("span",{className:y.noMessages,children:"\u041d\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"}),0!==s.length&&(0,Z.jsx)(E,{next:o,inverse:!0,className:y.infiniteScroll,hasMore:a!==i,loader:(0,Z.jsx)(h.p,{}),dataLength:s.length,scrollableTarget:"scrollableDiv",children:s.map((function(e,t){var o=s[t+1],a=(null===o||void 0===o?void 0:o.senderId)===e.senderId;return(0,Z.jsxs)("div",{children:[!d(e.addedAt,null===o||void 0===o?void 0:o.addedAt)&&(0,Z.jsx)(G,{date:c(e.addedAt)}),(0,Z.jsx)(q,{body:e.body,senderName:e.senderName,id:e.id,viewed:e.viewed,addedAt:e.addedAt,senderId:e.senderId,chattingUserProfile:n,authUserProfile:r,isSameSender:a,getFormattedDateHMM:u,deleteMessage:p,messageType:O.z.notUpdatingMessage},e.id)]},e.id)}))})]})},z=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).dialogEndRef=r.createRef(),e.messagesRequestTimer=setTimeout((function(){})),e.fetchNotUpdatingMessages=function(){var t=e.props,n=t.setCurrentPage,r=t.getMessages,s=t.currentPage,o=t.pageCount,a=t.activeDialogId;a&&(n(s+1),r(a,s+1,o))},e.sendMessage=function(t){var n=e.props,r=n.sendMessage,s=n.activeDialogId;s&&r(s,t)},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setActiveDialogId,n=e.router;t(Number(n.params.id))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.resetMessages,n=e.setActiveDialogId,r=e.getActiveDialog;this.messagesRequestTimer&&clearTimeout(this.messagesRequestTimer),t(),n(null),r(null)}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this.props,n=t.updatingMessages,r=t.getMessages,s=t.pageCount,o=t.router,a=t.resetMessages,i=t.activeDialogId,l=t.setActiveDialogId;e.updatingMessages!==n&&(this.messagesRequestTimer&&clearTimeout(this.messagesRequestTimer),i&&(this.messagesRequestTimer=setTimeout((function(){r(i,1,s)}),2e3))),o.params.id!==e.router.params.id&&(a(),l(Number(e.router.params.id)))}},{key:"componentDidUpdate",value:function(e){var t,n=this.props,r=n.activeDialogId,s=n.pageCount,o=n.getActiveDialog,a=n.getTotalPagesCount,i=n.getMessages,l=n.getChattingUserProfile;r!==e.activeDialogId&&(r&&(a(r),i(r,1,s),i(r,2,s),l(r),o(r),null===(t=this.dialogEndRef.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})))}},{key:"render",value:function(){var e=this.props,t=e.updatingMessages,n=e.notUpdatingMessages,r=e.chattingUserProfile,s=e.authUserProfile,o=e.currentPage,a=e.totalPagesCount,i=e.isMessageSending,l=e.router,d=e.activeDialog,u=e.deleteMessage;return l.params.id?(0,Z.jsxs)("div",{className:y.dialog,children:[(0,Z.jsx)(W,{authUserProfile:s,chattingUserProfile:r,updatingMessages:t,notUpdatingMessages:n,fetchNotUpdatingMessages:this.fetchNotUpdatingMessages,currentPage:o,totalPagesCount:a,sendMessage:this.sendMessage,compareDates:p,getFormattedDateWithFullMonth:f.F,getFormattedDateHMM:v.L,activeDialog:d,deleteMessage:u}),(0,Z.jsx)("div",{ref:this.dialogEndRef}),i&&(0,Z.jsx)(h.p,{})]}):(0,Z.jsx)(c.Fg,{to:"/dialogs"})}}]),n}(r.Component),$=(0,l.qC)(u.E,m.D,(0,d.$j)((function(e){return{updatingMessages:e.dialogs.updatingMessages,notUpdatingMessages:e.dialogs.notUpdatingMessages,chattingUserProfile:e.dialogs.chattingUserProfile,authUserProfile:e.auth.authUserProfile,areMessagesFetching:e.dialogs.areMessagesFetching,currentPage:e.dialogs.currentPage,pageCount:e.dialogs.pageCount,totalPagesCount:e.dialogs.totalPagesCount,isMessageSending:e.dialogs.isMessageSending,activeDialogId:e.dialogs.activeDialogId,activeDialog:e.dialogs.activeDialog}}),{getMessages:g._U,getTotalPagesCount:g.Uq,getChattingUserProfile:g.jh,setCurrentPage:g.Gt.setCurrentPage,resetMessages:g.Gt.resetMessages,sendMessage:g.bG,getActiveDialog:g.F$,setActiveDialogId:g.Gt.setActiveDialogId,deleteMessage:g.$Z}))(z),J=function(){return(0,Z.jsx)("div",{children:(0,Z.jsx)($,{})})}},4739:function(e,t,n){n.d(t,{L:function(){return r}});var r=function(e){return"".concat(e.getHours(),":").concat((e.getMinutes()<10?"0":"")+e.getMinutes())}},7696:function(e,t,n){n.d(t,{F:function(){return r}});var r=function(e){var t=(new Date).getFullYear(),n=e.toLocaleString("default",{month:"short"}),r="".concat(e.getDate()," ").concat(n),s="".concat(e.getDate()," ").concat(n," ").concat(e.getFullYear());return t===e.getFullYear()?r:s}}}]);
//# sourceMappingURL=65.81066d70.chunk.js.map